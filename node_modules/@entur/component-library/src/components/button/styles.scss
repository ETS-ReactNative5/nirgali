@import '../../styles/config';
@import '../../utils/sizing';
@import '../../styles/colors';

$group-class-name: #{$prefix}-button-group;
$root-class-name: #{$prefix}-button;

@mixin button-variant-mixin($text-color, $background, $active-text-color, $active-background) {
  background-color: $background;
  box-sizing: border-box;
  color: $text-color;

  &:link,
  &:visited {
    color: $text-color;
  }

  &:hover {
    background-color: transparentize($background, 0.1);
  }

  &.#{$root-class-name}--active,
  &.#{$root-class-name}:active {
    background-color: $active-background;
    color: $active-text-color;

    &:hover {
      background-color: transparentize($active-background, 0.1);
    }
  }
}

@mixin negative-button-variant-mixin($text-color, $background, $active-text-color, $active-background, $border-color) {
  background-color: $background;
  border: 0.125rem solid $border-color;
  color: $text-color;

  &:link,
  &:visited {
    color: $text-color;
  }

  &:hover {
    background-color: transparentize($active-background, 0.7);
  }

  &.#{$root-class-name}--active,
  &.#{$root-class-name}:active {
    background-color: $active-background;
    color: $active-text-color;

    &:hover {
      background-color: transparentize($active-background, 0.7);
    }
  }
}

.#{$root-class-name} {

  border: 0;
  border-radius: 0.0625rem;

  cursor: pointer;
  display: inline-block;

  font-family: $base-font-family;
  font-size: 1rem;

  -webkit-font-smoothing: antialiased;
  font-weight: 500;
  position: relative;
  text-align: center;
  text-decoration: none;
  vertical-align: baseline;

  &:focus,
  &--has-focus {
    box-shadow: 0 0 2px 2px $focus;
  }

  &:disabled,
  &--disabled {
    cursor: not-allowed;
    opacity: 0.4;
  }

  &--size-md {
    @include md-size();

    &.#{$root-class-name}--width-square {
      width: $button-height-md;
    }
  }

  &--size-lg {
    @include lg-size();

    &.#{$root-class-name}--width-square {
      width: $button-height-lg;
    }
  }

  &--width-sm {
    width: 6.25rem;
  }

  &--width-md {
    width: 8.75rem;
  }

  &--width-lg {
    width: 12.5rem;
  }

  &--width-fluid {
    width: 100%;
  }

  &--variant-primary {
    @include button-variant-mixin($white, $blue, $white, $blue-20);
  }

  &--variant-secondary {
    @include button-variant-mixin($blue, $lavender, $blue, $lavender);
  }

  &--variant-success {
    @include button-variant-mixin($blue, $mint, $blue, $mint);
  }

  &--variant-negative {
    @include negative-button-variant-mixin($blue, $white, $blue, $coral, $coral);

    &.#{$root-class-name}--size-md {
      @include md-size(-0.125rem, 0, -0.125rem, 0);
    }

    &.#{$root-class-name}--size-lg {
      @include lg-size(-0.125rem, 0, -0.125rem, 0);
    }
  }

  &--loading {
    &,
    &.#{$root-class-name}--active,
    &.#{$root-class-name}:active,
    &:link,
    &:visited {
      color: transparent;
    }
  }

  &__loading-spinner {
    left: 50%;
    margin-left: -0.625rem;
    margin-top: -0.625rem;
    position: absolute;
    top: 50%;
  }
}


:export {
  groupClassName: $group-class-name;
  rootClassName: $root-class-name;
}
