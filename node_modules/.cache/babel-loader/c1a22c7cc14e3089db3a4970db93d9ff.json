{"ast":null,"code":"import React from \"react\";\nimport gql from 'graphql-tag';\n\nconst _require = require('apollo-fetch'),\n      createApolloFetch = _require.createApolloFetch;\n\nconst uri2 = 'https://api.staging.entur.io/journey-planner/v2/graphql';\nconst value = localStorage.getItem(\"loggedInAs\") + ':Authority:' + localStorage.getItem(\"loggedInAs\");\nconst query = \"\\n  {\\n  lines(authorities:\".concat(value, \") {\\n  \\tid\\n    name\\n    quays {\\n      id\\n      name\\n    }\\n  }\\n}\\n\");\nconst variables = {\n  authorities: localStorage.getItem(\"loggedInAs\") + ':Authority:' + localStorage.getItem(\"loggedInAs\")\n};\n\nconst run = (localKey, uri) => {\n  window.alert(query);\n  const apolloFetch = createApolloFetch({\n    uri\n  });\n  apolloFetch({\n    query,\n    variables\n  }).catch(error => error).then(response => {\n    localStorage.setItem(localKey, JSON.stringify(response.data.lines));\n  });\n};\n\nconst query2 = \"\\n    mutation lines($authorities: String!) {\\n        lines(authorities: $authorities) {\\n            id\\n            name\\n            quays {\\n                id\\n                name\\n            }\\n        }\\n    }\\n\";\nexport default {\n  run\n};","map":{"version":3,"sources":["/Users/Goplen/Desktop/knowit/3psx/src/api.js"],"names":["React","gql","require","createApolloFetch","uri2","value","localStorage","getItem","query","variables","authorities","run","localKey","uri","window","alert","apolloFetch","catch","error","then","response","setItem","JSON","stringify","data","lines","query2"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,aAAhB;;iBAC8BC,OAAO,CAAC,cAAD,C;MAA7BC,iB,YAAAA,iB;;AAER,MAAMC,IAAI,GAAG,yDAAb;AACA,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,YAArB,IAAmC,aAAnC,GAAiDD,YAAY,CAACC,OAAb,CAAqB,YAArB,CAA/D;AAEA,MAAMC,KAAK,wCAEWH,KAFX,8EAAX;AAcA,MAAMI,SAAS,GAAG;AACdC,EAAAA,WAAW,EAAEJ,YAAY,CAACC,OAAb,CAAqB,YAArB,IAAmC,aAAnC,GAAiDD,YAAY,CAACC,OAAb,CAAqB,YAArB;AADhD,CAAlB;;AAIA,MAAMI,GAAG,GAAG,CAACC,QAAD,EAAWC,GAAX,KAAmB;AAC3BC,EAAAA,MAAM,CAACC,KAAP,CAAaP,KAAb;AACA,QAAMQ,WAAW,GAAGb,iBAAiB,CAAC;AAAEU,IAAAA;AAAF,GAAD,CAArC;AAEAG,EAAAA,WAAW,CAAC;AAAER,IAAAA,KAAF;AAASC,IAAAA;AAAT,GAAD,CAAX,CACKQ,KADL,CACWC,KAAK,IAAIA,KADpB,EAEKC,IAFL,CAEUC,QAAQ,IAAI;AACdd,IAAAA,YAAY,CAACe,OAAb,CAAqBT,QAArB,EAA+BU,IAAI,CAACC,SAAL,CAAeH,QAAQ,CAACI,IAAT,CAAcC,KAA7B,CAA/B;AACH,GAJL;AAKH,CATD;;AAWA,MAAMC,MAAM,kOAAZ;AAaA,eAAe;AAAEf,EAAAA;AAAF,CAAf","sourcesContent":["import React from \"react\";\nimport gql from 'graphql-tag';\nconst { createApolloFetch } = require('apollo-fetch');\n\nconst uri2 = 'https://api.staging.entur.io/journey-planner/v2/graphql';\nconst value = localStorage.getItem(\"loggedInAs\")+':Authority:'+localStorage.getItem(\"loggedInAs\");\n\nconst query = `\n  {\n  lines(authorities:${value}) {\n  \tid\n    name\n    quays {\n      id\n      name\n    }\n  }\n}\n`;\n\n\nconst variables = {\n    authorities: localStorage.getItem(\"loggedInAs\")+':Authority:'+localStorage.getItem(\"loggedInAs\"),\n};\n\nconst run = (localKey, uri) => {\n    window.alert(query)\n    const apolloFetch = createApolloFetch({ uri });\n\n    apolloFetch({ query, variables })\n        .catch(error => error)\n        .then(response => {\n            localStorage.setItem(localKey, JSON.stringify(response.data.lines));\n        });\n};\n\nconst query2 = `\n    mutation lines($authorities: String!) {\n        lines(authorities: $authorities) {\n            id\n            name\n            quays {\n                id\n                name\n            }\n        }\n    }\n`;\n\nexport default { run }"]},"metadata":{},"sourceType":"module"}