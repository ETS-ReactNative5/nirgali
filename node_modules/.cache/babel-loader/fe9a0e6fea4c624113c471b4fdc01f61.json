{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Pagination = undefined;\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _chevron = require('../icons/arrows/chevron');\n\nvar _chevron2 = _interopRequireDefault(_chevron);\n\nrequire('./styles.css');\n\nvar _styles = {\n  'rootClassName': 'entur-pagination',\n  'entur-pagination': 'entur-pagination',\n  'entur-pagination-wrapper': 'entur-pagination-wrapper',\n  'entur-pagination__number': 'entur-pagination__number',\n  'entur-pagination__number--active': 'entur-pagination__number--active',\n  'entur-pagination__prev': 'entur-pagination__prev',\n  'entur-pagination__next': 'entur-pagination__next',\n  'arrow-icon': 'arrow-icon',\n  'disabled': 'disabled',\n  'dot-dot-dot': 'dot-dot-dot',\n  'entur-pagination--variant-midnight': 'entur-pagination--variant-midnight'\n};\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar KEY = {\n  ENTER: 13\n};\n\nfunction getKey(event) {\n  return event.keyCode || event.which;\n}\n\nvar Pagination = exports.Pagination = function (_Component) {\n  _inherits(Pagination, _Component);\n\n  function Pagination() {\n    _classCallCheck(this, Pagination);\n\n    return _possibleConstructorReturn(this, (Pagination.__proto__ || Object.getPrototypeOf(Pagination)).apply(this, arguments));\n  }\n\n  _createClass(Pagination, [{\n    key: 'renderPrevButton',\n    value: function renderPrevButton() {\n      var _props = this.props,\n          currentPage = _props.currentPage,\n          onPageChange = _props.onPageChange;\n      var prevDisabled = currentPage === 1;\n      var prevPage = currentPage - 1;\n      return _react2.default.createElement('button', {\n        tabIndex: prevDisabled ? -1 : 0,\n        key: 'pagelink-prev',\n        className: (0, _classnames2.default)([_styles.rootClassName + '__prev'], {\n          disabled: prevDisabled\n        }),\n        onClick: function onClick() {\n          onPageChange(prevPage);\n        },\n        onKeyPress: function onKeyPress(event) {\n          if (!prevDisabled && getKey(event) === KEY.ENTER) {\n            onPageChange(prevPage);\n          }\n        }\n      }, _react2.default.createElement(_chevron2.default, {\n        className: 'arrow-icon',\n        direction: 'left',\n        height: 10,\n        width: 10\n      }));\n    }\n  }, {\n    key: 'renderNextButton',\n    value: function renderNextButton(nrOfPages) {\n      var _props2 = this.props,\n          currentPage = _props2.currentPage,\n          onPageChange = _props2.onPageChange;\n      var nextDisabled = currentPage === nrOfPages;\n      var nextPage = currentPage + 1;\n      return _react2.default.createElement('button', {\n        tabIndex: nextDisabled ? -1 : 0,\n        key: 'pagelink-next',\n        className: (0, _classnames2.default)([_styles.rootClassName + '__next'], {\n          disabled: nextDisabled\n        }),\n        onClick: function onClick() {\n          onPageChange(nextPage);\n        },\n        onKeyPress: function onKeyPress(event) {\n          if (!nextDisabled && getKey(event) === KEY.ENTER) {\n            onPageChange(nextPage);\n          }\n        }\n      }, _react2.default.createElement(_chevron2.default, {\n        className: 'arrow-icon',\n        direction: 'right',\n        height: 10,\n        width: 10\n      }));\n    }\n  }, {\n    key: 'renderPageButton',\n    value: function renderPageButton(pageNumber) {\n      var _props3 = this.props,\n          currentPage = _props3.currentPage,\n          onPageChange = _props3.onPageChange;\n      return _react2.default.createElement('button', {\n        tabIndex: pageNumber === currentPage ? -1 : 0,\n        key: 'pagelink-' + pageNumber,\n        className: (0, _classnames2.default)([_styles.rootClassName + '__number'], _defineProperty({}, _styles.rootClassName + '__number--active', pageNumber === currentPage)),\n        onClick: function onClick() {\n          onPageChange(pageNumber);\n        },\n        onKeyPress: function onKeyPress(event) {\n          if (getKey(event) === KEY.ENTER) {\n            onPageChange(pageNumber);\n          }\n        }\n      }, pageNumber);\n    }\n  }, {\n    key: 'renderDotDotDot',\n    value: function renderDotDotDot(side) {\n      return _react2.default.createElement('div', {\n        className: 'dot-dot-dot',\n        key: 'dot-dot-dot-' + side\n      }, '...');\n    }\n  }, {\n    key: 'renderPages',\n    value: function renderPages(nrOfPages) {\n      var currentPage = this.props.currentPage;\n      var buttons = [];\n      var nrOfPagesTilStart = currentPage - 1;\n      var nrOfPagesTilEnd = nrOfPages - currentPage;\n\n      if (nrOfPages === 0) {\n        buttons.push(this.renderPageButton(1));\n      } else if (nrOfPages < 6) {\n        for (var i = 1; i <= nrOfPages; i++) {\n          buttons.push(this.renderPageButton(i));\n        }\n      } else {\n        if (nrOfPagesTilStart < 3) {\n          for (var _i = 1; _i < 4 && _i < nrOfPages; _i++) {\n            buttons.push(this.renderPageButton(_i));\n          }\n        } else {\n          buttons.push(this.renderPageButton(1));\n          buttons.push(this.renderDotDotDot('left'));\n        }\n\n        if (nrOfPagesTilStart >= 3 && nrOfPagesTilEnd >= 3) {\n          buttons.push(this.renderPageButton(currentPage));\n        }\n\n        if (nrOfPagesTilEnd < 3) {\n          for (var _i2 = nrOfPages - 2; _i2 <= nrOfPages; _i2++) {\n            buttons.push(this.renderPageButton(_i2));\n          }\n        } else {\n          buttons.push(this.renderDotDotDot('right'));\n          buttons.push(this.renderPageButton(nrOfPages));\n        }\n      }\n\n      return buttons;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props4 = this.props,\n          className = _props4.className,\n          collectionSize = _props4.collectionSize,\n          pageSize = _props4.pageSize,\n          variant = _props4.variant;\n      var classNames = (0, _classnames2.default)(_styles.rootClassName, className, _defineProperty({}, _styles.rootClassName + '--variant-' + variant, variant));\n      var nrOfPages = Math.ceil(collectionSize / pageSize);\n      return _react2.default.createElement('div', {\n        className: classNames\n      }, _react2.default.createElement('div', {\n        className: _styles.rootClassName + '-wrapper'\n      }, this.renderPrevButton(), this.renderPages(nrOfPages), this.renderNextButton(nrOfPages)));\n    }\n  }]);\n\n  return Pagination;\n}(_react.Component);\n\nPagination.propTypes = {\n  currentPage: _propTypes2.default.number.isRequired,\n  collectionSize: _propTypes2.default.number.isRequired,\n  pageSize: _propTypes2.default.number.isRequired,\n  onPageChange: _propTypes2.default.func.isRequired,\n  className: _propTypes2.default.string,\n  variant: _propTypes2.default.oneOf(['midnight'])\n};\nPagination.defaultProps = {\n  onPageChange: function onPageChange() {}\n};\nPagination.__docgenInfo = {\n  'description': '',\n  'methods': [{\n    'name': 'renderPrevButton',\n    'docblock': null,\n    'modifiers': [],\n    'params': [],\n    'returns': null\n  }, {\n    'name': 'renderNextButton',\n    'docblock': null,\n    'modifiers': [],\n    'params': [{\n      'name': 'nrOfPages',\n      'type': null\n    }],\n    'returns': null\n  }, {\n    'name': 'renderPageButton',\n    'docblock': null,\n    'modifiers': [],\n    'params': [{\n      'name': 'pageNumber',\n      'type': null\n    }],\n    'returns': null\n  }, {\n    'name': 'renderDotDotDot',\n    'docblock': null,\n    'modifiers': [],\n    'params': [{\n      'name': 'side',\n      'type': null\n    }],\n    'returns': null\n  }, {\n    'name': 'renderPages',\n    'docblock': null,\n    'modifiers': [],\n    'params': [{\n      'name': 'nrOfPages',\n      'type': null\n    }],\n    'returns': null\n  }],\n  'displayName': 'Pagination',\n  'props': {\n    'onPageChange': {\n      'defaultValue': {\n        'value': '() => {}',\n        'computed': false\n      },\n      'type': {\n        'name': 'func'\n      },\n      'required': false,\n      'description': ''\n    },\n    'currentPage': {\n      'type': {\n        'name': 'number'\n      },\n      'required': true,\n      'description': ''\n    },\n    'collectionSize': {\n      'type': {\n        'name': 'number'\n      },\n      'required': true,\n      'description': ''\n    },\n    'pageSize': {\n      'type': {\n        'name': 'number'\n      },\n      'required': true,\n      'description': ''\n    },\n    'className': {\n      'type': {\n        'name': 'string'\n      },\n      'required': false,\n      'description': ''\n    },\n    'variant': {\n      'type': {\n        'name': 'enum',\n        'value': [{\n          'value': '\\'midnight\\'',\n          'computed': false\n        }]\n      },\n      'required': false,\n      'description': ''\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"script"}