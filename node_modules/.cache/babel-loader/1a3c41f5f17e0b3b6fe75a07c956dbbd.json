{"ast":null,"code":"/*import Keycloak from 'keycloak-js';\n\nconst keycloak_json ={\n    realm: 'rutebanken',\n    'auth-server-url': 'https://kc-dev.devstage.entur.io/auth',\n    'ssl-required': 'external',\n    resource: 'flexible-transport-frontend',\n    'public-client': true\n};\n\n// Minimum number of seconds left of token before a refresh is needed\nconst minValiditySeconds = 60;\n\n// How often should lib check for valid token\nconst refreshRateMs = 10000;\n\nconst initAuth = () => {\n    const kc = new Keycloak(keycloak_json);\n    const options = { checkLoginIframe: false };\n    kc.init(options).success(authenticated => {\n        if (authenticated) {\n            token.save(kc.token);\n            setInterval(() => {\n                kc.updateToken(minValiditySeconds).error(() => kc.logout());\n                token.save(kc.token);\n            }, refreshRateMs);\n            const userInfo = {\n                logoutUrl: kc.createLogoutUrl(options),\n                familyName: kc.idTokenParsed.family_name,\n                givenName: kc.idTokenParsed.given_name,\n                email: kc.idTokenParsed.email,\n                username: kc.idTokenParsed.preferred_username,\n                isAdmin: isAdmin(kc.tokenParsed)\n            };\n            renderIndex(userInfo);\n        } else {\n            kc.login();\n        }\n    });\n};\n\nexport default { initAuth }*/","map":{"version":3,"sources":["/Users/Goplen/Desktop/knowit/3psx/src/auth.js"],"names":[],"mappings":"AAAA","sourcesContent":["/*import Keycloak from 'keycloak-js';\n\nconst keycloak_json ={\n    realm: 'rutebanken',\n    'auth-server-url': 'https://kc-dev.devstage.entur.io/auth',\n    'ssl-required': 'external',\n    resource: 'flexible-transport-frontend',\n    'public-client': true\n};\n\n// Minimum number of seconds left of token before a refresh is needed\nconst minValiditySeconds = 60;\n\n// How often should lib check for valid token\nconst refreshRateMs = 10000;\n\nconst initAuth = () => {\n    const kc = new Keycloak(keycloak_json);\n    const options = { checkLoginIframe: false };\n    kc.init(options).success(authenticated => {\n        if (authenticated) {\n            token.save(kc.token);\n            setInterval(() => {\n                kc.updateToken(minValiditySeconds).error(() => kc.logout());\n                token.save(kc.token);\n            }, refreshRateMs);\n            const userInfo = {\n                logoutUrl: kc.createLogoutUrl(options),\n                familyName: kc.idTokenParsed.family_name,\n                givenName: kc.idTokenParsed.given_name,\n                email: kc.idTokenParsed.email,\n                username: kc.idTokenParsed.preferred_username,\n                isAdmin: isAdmin(kc.tokenParsed)\n            };\n            renderIndex(userInfo);\n        } else {\n            kc.login();\n        }\n    });\n};\n\nexport default { initAuth }*/"]},"metadata":{},"sourceType":"module"}