{"ast":null,"code":"import React from \"react\";\n\nconst _require = require('apollo-fetch'),\n      createApolloFetch = _require.createApolloFetch;\n\nconst uri = 'https://api.staging.entur.io/journey-planner/v2/graphql';\nconst query = \"\\n  {\\n  lines(authorities:\\\"GOA:Authority:GOA\\\") {\\n  \\tid\\n    name\\n    quays {\\n      id\\n      name\\n    }\\n  }\\n}\\n\";\nconst variables = {\n  authorities: localStorage.getItem(\"loggedInAs\") + ':Authority:GOA' + localStorage.getItem(\"loggedInAs\")\n};\nconst apolloFetch = createApolloFetch({\n  uri\n});\napolloFetch({\n  query,\n  variables\n}).catch(error => error).then(response => {\n  localStorage.setItem('lines', JSON.stringify(response.data.lines));\n  var stops = [];\n  {\n    response.data.lines.map((item, key) => stops = stops.concat(item.quays));\n  }\n  stops.sort(function (a, b) {\n    return a.name - b.id;\n  });\n  localStorage.setItem('stops', JSON.stringify(stops));\n});","map":{"version":3,"sources":["/Users/Goplen/Desktop/knowit/3psx/src/api.js"],"names":["React","require","createApolloFetch","uri","query","variables","authorities","localStorage","getItem","apolloFetch","catch","error","then","response","setItem","JSON","stringify","data","lines","stops","map","item","key","concat","quays","sort","a","b","name","id"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;iBAE8BC,OAAO,CAAC,cAAD,C;MAA7BC,iB,YAAAA,iB;;AAER,MAAMC,GAAG,GAAG,yDAAZ;AAEA,MAAMC,KAAK,8HAAX;AAaA,MAAMC,SAAS,GAAG;AACdC,EAAAA,WAAW,EAAEC,YAAY,CAACC,OAAb,CAAqB,YAArB,IAAmC,gBAAnC,GAAoDD,YAAY,CAACC,OAAb,CAAqB,YAArB;AADnD,CAAlB;AAIA,MAAMC,WAAW,GAAGP,iBAAiB,CAAC;AAAEC,EAAAA;AAAF,CAAD,CAArC;AAEAM,WAAW,CAAC;AAAEL,EAAAA,KAAF;AAASC,EAAAA;AAAT,CAAD,CAAX,CACKK,KADL,CACWC,KAAK,IAAIA,KADpB,EAEKC,IAFL,CAEUC,QAAQ,IAAI;AACdN,EAAAA,YAAY,CAACO,OAAb,CAAqB,OAArB,EAA8BC,IAAI,CAACC,SAAL,CAAeH,QAAQ,CAACI,IAAT,CAAcC,KAA7B,CAA9B;AACA,MAAIC,KAAK,GAAG,EAAZ;AACA;AAACN,IAAAA,QAAQ,CAACI,IAAT,CAAcC,KAAd,CAAoBE,GAApB,CAAwB,CAACC,IAAD,EAAOC,GAAP,KACrBH,KAAK,GAAGA,KAAK,CAACI,MAAN,CAAaF,IAAI,CAACG,KAAlB,CADX;AAEE;AACHL,EAAAA,KAAK,CAACM,IAAN,CAAW,UAASC,CAAT,EAAYC,CAAZ,EAAc;AAAC,WAAOD,CAAC,CAACE,IAAF,GAASD,CAAC,CAACE,EAAlB;AAAqB,GAA/C;AACAtB,EAAAA,YAAY,CAACO,OAAb,CAAqB,OAArB,EAA8BC,IAAI,CAACC,SAAL,CAAeG,KAAf,CAA9B;AACH,CAVL","sourcesContent":["import React from \"react\";\n\nconst { createApolloFetch } = require('apollo-fetch');\n\nconst uri = 'https://api.staging.entur.io/journey-planner/v2/graphql';\n\nconst query = `\n  {\n  lines(authorities:\"GOA:Authority:GOA\") {\n  \tid\n    name\n    quays {\n      id\n      name\n    }\n  }\n}\n`;\n\nconst variables = {\n    authorities: localStorage.getItem(\"loggedInAs\")+':Authority:GOA'+localStorage.getItem(\"loggedInAs\"),\n};\n\nconst apolloFetch = createApolloFetch({ uri });\n\napolloFetch({ query, variables })\n    .catch(error => error)\n    .then(response => {\n        localStorage.setItem('lines', JSON.stringify(response.data.lines));\n        var stops = [];\n        {response.data.lines.map((item, key) => (\n            stops = stops.concat(item.quays)\n        ))}\n        stops.sort(function(a, b){return a.name - b.id});\n        localStorage.setItem('stops', JSON.stringify(stops));\n    });"]},"metadata":{},"sourceType":"module"}