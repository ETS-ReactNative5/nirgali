{"ast":null,"code":"var _jsxFileName = \"/Users/Goplen/Desktop/knowit/3psx/src/index.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './style/index.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport { Route, BrowserRouter as Router } from 'react-router-dom';\nimport Home from './components/home';\nimport Overview from \"./components/overview\";\nimport Register from './components/register';\nimport Edit from './components/edit';\nimport auth from './authenticate/auth';\nimport api from \"./api/api\";\n\nconst firebase = require(\"firebase\");\n\nrequire(\"firebase/firestore\");\n\nvar firebaseConfig = {\n  apiKey: \"AIzaSyCKcRzWRYlZkwG4I4WTTb2uRnI7VczCX5M\",\n  authDomain: \"deviation-messages.firebaseapp.com\",\n  databaseURL: \"https://deviation-messages.firebaseio.com\",\n  projectId: \"deviation-messages\",\n  storageBucket: \"deviation-messages.appspot.com\",\n  messagingSenderId: \"132641363074\",\n  appId: \"1:132641363074:web:1069e5f0a9717b4c\"\n};\nfirebase.initializeApp(firebaseConfig);\nvar db = firebase.firestore();\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: '',\n      key: 'GOA:Authority:GOA',\n      lines: '',\n      id: ''\n    };\n  }\n\n  componentDidUpdate(data) {\n    localStorage.setItem('issues', JSON.stringify(this.state.data.issues));\n  }\n\n  componentDidMount() {\n    localStorage.setItem('netexAuthorityId', 'GOA:Authority:GOA'); //api.organisationID(userInfo.id);\n\n    db.collection(this.state.key).get().then(querySnapshot => {\n      querySnapshot.forEach(doc => {\n        this.setState({\n          data: doc.data(),\n          id: doc.id\n        });\n      });\n    });\n    const authorities = localStorage.getItem(\"netexAuthorityId\");\n    api.run('lines', authorities, null, null).then(response => {\n      this.setState({\n        lines: JSON.stringify(response.data.lines)\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: \"/\",\n      component: Home,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/edit/:deviationId?\",\n      render: props => React.createElement(Edit, Object.assign({}, props, {\n        data: this.state.data,\n        firebase: db,\n        docID: this.state.id,\n        orgID: this.state.key,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/register\",\n      render: props => React.createElement(Register, Object.assign({}, props, {\n        data: this.state.data,\n        firebase: db,\n        docID: this.state.id,\n        orgID: this.state.key,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/overview\",\n      render: props => React.createElement(Overview, Object.assign({}, props, {\n        data: this.state.data,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    })));\n  }\n\n}\n\nconst renderIndex = userInfo => {\n  ReactDOM.render(React.createElement(App, {\n    userInfo: userInfo,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }), document.getElementById('root'));\n};\n\nauth.initAuth();\nexport default renderIndex;","map":{"version":3,"sources":["/Users/Goplen/Desktop/knowit/3psx/src/index.js"],"names":["React","ReactDOM","Route","BrowserRouter","Router","Home","Overview","Register","Edit","auth","api","firebase","require","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","initializeApp","db","firestore","App","Component","state","data","key","lines","id","componentDidUpdate","localStorage","setItem","JSON","stringify","issues","componentDidMount","collection","get","then","querySnapshot","forEach","doc","setState","authorities","getItem","run","response","render","props","renderIndex","userInfo","document","getElementById","initAuth"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './style/index.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport { Route, BrowserRouter as Router } from 'react-router-dom'\nimport Home from './components/home'\nimport Overview from \"./components/overview\";\nimport Register from './components/register';\nimport Edit from './components/edit';\nimport auth from './authenticate/auth'\nimport api from \"./api/api\";\n\n\nconst firebase = require(\"firebase\");\nrequire(\"firebase/firestore\");\nvar firebaseConfig = {\n    apiKey: \"AIzaSyCKcRzWRYlZkwG4I4WTTb2uRnI7VczCX5M\",\n    authDomain: \"deviation-messages.firebaseapp.com\",\n    databaseURL: \"https://deviation-messages.firebaseio.com\",\n    projectId: \"deviation-messages\",\n    storageBucket: \"deviation-messages.appspot.com\",\n    messagingSenderId: \"132641363074\",\n    appId: \"1:132641363074:web:1069e5f0a9717b4c\"\n};\nfirebase.initializeApp(firebaseConfig);\nvar db = firebase.firestore();\n\n\nclass App extends React.Component {\n    state = {\n        data: '',\n        key: 'GOA:Authority:GOA',\n        lines: '',\n        id: '',\n    };\n\n    componentDidUpdate(data) {\n        localStorage.setItem('issues', JSON.stringify(this.state.data.issues));\n    }\n\n    componentDidMount() {\n        localStorage.setItem('netexAuthorityId', 'GOA:Authority:GOA');\n\n        //api.organisationID(userInfo.id);\n\n        db.collection(this.state.key).get().then((querySnapshot) => {\n            querySnapshot.forEach((doc) => {\n                this.setState({\n                    data: doc.data(),\n                    id: doc.id,\n                })\n            });\n        });\n\n        const authorities = localStorage.getItem(\"netexAuthorityId\");\n        api.run('lines', authorities, null, null)\n            .then(response => {\n                this.setState({\n                    lines: JSON.stringify(response.data.lines)\n                })\n            })\n    }\n\n    render() {\n        return (\n            <Router>\n                <div>\n                    <Route path=\"/\" component={Home} />\n                    <Route path=\"/edit/:deviationId?\" render={props =>\n                        <Edit {...props}\n                              data={this.state.data}\n                              firebase={db}\n                              docID={this.state.id}\n                              orgID={this.state.key} />} />\n                    <Route path=\"/register\" render={props =>\n                        <Register {...props}\n                              data={this.state.data}\n                              firebase={db}\n                              docID={this.state.id}\n                              orgID={this.state.key} />} />\n                    <Route path=\"/overview\" render={props => <Overview {...props} data={this.state.data}/>}  />\n                </div>\n            </Router>\n        )\n    }\n}\n\nconst renderIndex = (userInfo) => {\n    ReactDOM.render(\n        <App userInfo={userInfo} />,\n        document.getElementById('root')\n    );\n};\n\nauth.initAuth();\n\nexport default renderIndex;"]},"metadata":{},"sourceType":"module"}